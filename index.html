<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Citrana</title>
    <script src="https://unpkg.com/konva@9/konva.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body class="bg-white text-gray-900">
    <div class="app-container">
        <!-- Floating Top Toolbar -->
        <div class="floating-top-toolbar">
            <!-- Drawing Tools -->
            <div class="toolbar-group">
                <button id="select-tool" class="toolbar-btn active" title="Select (V)">
                    <i data-lucide="mouse-pointer"></i>
                </button>
                <button id="arrow-tool" class="toolbar-btn" title="Arrow">
                    <i data-lucide="arrow-right"></i>
                </button>
                <button id="line-tool" class="toolbar-btn" title="Line">
                    <i data-lucide="minus"></i>
                </button>
                <button id="pen-tool" class="toolbar-btn" title="Pen">
                    <i data-lucide="pen-tool"></i>
                </button>
                <button id="text-tool" class="toolbar-btn" title="Text">
                    <i data-lucide="type"></i>
                </button>
            </div>

            <!-- Hand Tool -->
            <div class="toolbar-group">
                <button id="hand-tool" class="toolbar-btn" title="Hand (H)">
                    <i data-lucide="hand"></i>
                </button>
            </div>

            <!-- Action Buttons -->
            <div class="toolbar-group">
                <button id="undo-btn" class="toolbar-btn" title="Undo (Ctrl+Z)">
                    <i data-lucide="undo"></i>
                </button>
                <button id="redo-btn" class="toolbar-btn" title="Redo (Ctrl+Y)">
                    <i data-lucide="redo"></i>
                </button>
                <button id="export-btn" class="toolbar-btn" title="Export">
                    <i data-lucide="download"></i>
                </button>
            </div>
        </div>

        <!-- Floating Graha Library -->
        <div class="floating-planet-library" id="graha-library" style="border-radius: 0.75rem; overflow: visible;">
            <div class="planet-library-header" style="background: #fff; color: #000; padding: 0.5rem 1rem; font-weight: bold; text-align: center; display: flex; align-items: center; justify-content: center; min-height: 2.5rem; border-top-left-radius: 0.75rem; border-top-right-radius: 0.75rem;">Graha Library</div>
            <div class="planet-grid" id="planet-library" style="overflow: visible;">
                <!-- Grahas will be populated by JavaScript -->
            </div>
        </div>

        <!-- Canvas Container -->
        <div class="canvas-container" id="canvas-container">
            <canvas id="canvas"></canvas>
        </div>

        <!-- Floating Zoom Controls -->
        <div class="floating-zoom-controls">
            <button id="zoom-out" title="Zoom Out (-)">
                <i data-lucide="zoom-out"></i>
            </button>
            <span id="zoom-level" class="zoom-level">100%</span>
            <button id="zoom-in" title="Zoom In (+)">
                <i data-lucide="zoom-in"></i>
            </button>
            <button id="reset-zoom" title="Reset Zoom">
                <i data-lucide="maximize-2"></i>
            </button>
        </div>

        <!-- Floating Text Edit Controls -->
        <div class="floating-text-edit-controls" id="text-edit-controls" style="display: none;">
            <input type="text" id="text-edit-input" placeholder="Enter text (max 6 chars)" maxlength="6" class="text-edit-input">
            <button id="text-edit-save" title="Save">
                <i data-lucide="check"></i>
            </button>
            <button id="text-edit-cancel" title="Cancel">
                <i data-lucide="x"></i>
            </button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="assets/js/utils.js"></script>
    <script src="assets/js/chart-templates-south.js"></script>
    <script src="assets/js/chart-templates-north.js"></script>
    <script src="assets/js/chart-coordinator.js"></script>
    <script src="assets/js/planet-system.js"></script>
    <script src="assets/js/drawing-tools.js"></script>
    <script src="assets/js/edit-ui.js"></script>
    <script src="assets/js/context-menu.js"></script>
    <script src="assets/js/app.js"></script>
    <script>
        // Initialize Lucide icons
        lucide.createIcons();
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing Citrana...');
            window.app = new CitranaApp();
        });
    </script>
</body>
</html> 